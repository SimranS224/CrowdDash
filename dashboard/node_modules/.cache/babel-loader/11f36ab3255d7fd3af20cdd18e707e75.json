{"ast":null,"code":"var _jsxFileName = \"/home/jason/projects/InsureCam/dashboard/src/Views/ReportView/index.jsx\";\nimport React, { Component } from 'react';\nimport { Card } from 'react-bootstrap';\nimport Loading from '../../Components/Loading';\nimport MenuBar from \"../../Components/MenuBar\";\nimport ViolationMap from \"../../Components/ViolationMap\";\nimport Gallery from 'react-grid-gallery'; // import RiskCalulations from \"../../Components/RiskCalculations\";\n\nimport { serverUrl } from \"../../config\";\nimport \"./violation.css\";\n\nclass ReportView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      const endpoint = serverUrl + \"/api/report/\" + this.state.id;\n      console.log(endpoint);\n\n      try {\n        const response = await fetch(endpoint);\n        const data = await response.json();\n        console.log(response);\n        this.setState({\n          report: data.data\n        });\n      } catch (err) {\n        console.log(\"error\", err);\n      } // let vehicle;\n      // let found = false;\n      // profiles.profiles.forEach(profile => {\n      //     if (profile.licensePlate === this.state.licensePlate) {\n      //         found = true;\n      //         vehicle = profile\n      //     }\n      // })\n      // if (!found) this.setState({ selection: false, isLoading: false })\n      // else {\n      //     this.setState({ vehicle: vehicle })\n\n\n      setTimeout(() => {\n        this.setState({\n          isLoading: false\n        });\n      }, 1000);\n    };\n\n    this.render = () => {\n      if (this.state.isLoading) return React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      });\n      console.log(this.state.report);\n      const images = this.state.report.image_urls.map(link => ({\n        src: serverUrl + \"/\" + link,\n        thumbnail: serverUrl + \"/\" + link,\n        thumbnailWidth: 320,\n        thumbnailHeight: 180\n      }));\n      return React.createElement(\"div\", {\n        className: \"fullscreen dashboardBG\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.state.isLoading ? React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }) : null, console.log('Report::::', this.state.report), React.createElement(MenuBar, {\n        showSearch: false,\n        setIsSignedIn: this.props.setIsSignedIn,\n        title: \"View Violation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cardRow\",\n        id: \"topRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Card, {\n        id: \"mapCard\",\n        className: \"text-center card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"cardHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Report Details\"), React.createElement(\"div\", {\n        className: \"violation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"violationInfoContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"infoBlock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Date:\"), React.createElement(\"h3\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, new Date(1000 * this.state.report.timestamp).toUTCString()))), React.createElement(\"div\", {\n        className: \"infoBlock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"infoBlock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Confidence Level:\"), React.createElement(\"h3\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.state.report.probability ? this.state.report.probability : 90, \"%\")), React.createElement(\"div\", {\n        className: \"infoBlock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Analysis:\"), React.createElement(\"h3\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.state.report.analysis_complete ? \"Completed\" : \"In Progress\"))))), React.createElement(Card, {\n        id: \"mapCard\",\n        className: \"text-center card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"cardHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Report Locations\"), React.createElement(ViolationMap, {\n        selection: this.state.report,\n        className: \"mapCard\",\n        center: this.state.report.location,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"cardRow\",\n        id: \"bottomRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Card, {\n        id: \"vehicleCard\",\n        className: \"text-center card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"cardHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Evidence Set\"), React.createElement(\"div\", {\n        className: \"fullscreen imageGalleryContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Gallery, {\n        images: images,\n        className: \"imageGallery\",\n        lightboxWidth: 1500,\n        onSelectImage: _ => true,\n        onClick: _ => true,\n        onTouchEnd: _ => true,\n        enableImageSelection: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })))));\n    };\n\n    this.state = {\n      isSignedIn: props.isSignedIn,\n      isLoading: true,\n      id: props.id,\n      isSignUp: false,\n      report: undefined\n    };\n  }\n\n}\n\nexport default ReportView;","map":{"version":3,"sources":["/home/jason/projects/InsureCam/dashboard/src/Views/ReportView/index.jsx"],"names":["React","Component","Card","Loading","MenuBar","ViolationMap","Gallery","serverUrl","ReportView","constructor","props","componentDidMount","endpoint","state","id","console","log","response","fetch","data","json","setState","report","err","setTimeout","isLoading","render","images","image_urls","map","link","src","thumbnail","thumbnailWidth","thumbnailHeight","setIsSignedIn","Date","timestamp","toUTCString","probability","analysis_complete","location","_","isSignedIn","isSignUp","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Card } from 'react-bootstrap'\nimport Loading from '../../Components/Loading';\nimport MenuBar from \"../../Components/MenuBar\";\nimport ViolationMap from \"../../Components/ViolationMap\";\nimport Gallery from 'react-grid-gallery';// import RiskCalulations from \"../../Components/RiskCalculations\";\nimport { serverUrl } from \"../../config\";\n\nimport \"./violation.css\";\n\nclass ReportView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isSignedIn: props.isSignedIn,\n            isLoading: true,\n            id: props.id,\n            isSignUp: false,\n            report: undefined\n        }\n    }\n\n    componentDidMount = async () => {\n        const endpoint = serverUrl + \"/api/report/\" + this.state.id\n        console.log(endpoint)\n        try {\n            const response = await fetch(endpoint);\n            const data = await response.json();\n            console.log(response)\n            this.setState({ report: data.data })\n        } catch (err) {\n            console.log(\"error\", err)\n        }\n        // let vehicle;\n        // let found = false;\n        // profiles.profiles.forEach(profile => {\n        //     if (profile.licensePlate === this.state.licensePlate) {\n        //         found = true;\n        //         vehicle = profile\n        //     }\n        // })\n        // if (!found) this.setState({ selection: false, isLoading: false })\n        // else {\n        //     this.setState({ vehicle: vehicle })\n        setTimeout(() => {\n            this.setState({ isLoading: false })\n        }, 1000)\n    }\n\n    render = () => {\n        if (this.state.isLoading) return <Loading />\n        console.log(this.state.report)\n        const images = this.state.report.image_urls.map(link => ({\n            src: serverUrl + \"/\" + link,\n            thumbnail: serverUrl + \"/\" + link,\n            thumbnailWidth: 320,\n            thumbnailHeight: 180,\n        }))\n        return (\n            <div className=\"fullscreen dashboardBG\">\n                {this.state.isLoading ? <Loading /> : null}\n                {console.log('Report::::', this.state.report)}\n                <MenuBar showSearch={false} setIsSignedIn={this.props.setIsSignedIn} title={\"View Violation\"} />\n                <div className=\"cardRow\" id=\"topRow\">\n                    <Card id=\"mapCard\" className=\"text-center card\">\n                        <Card.Header className=\"cardHeader\">Report Details</Card.Header>\n                        <div className=\"violation\">\n                            <div className=\"violationInfoContainer\">\n                                <div className=\"infoBlock\">\n                                    <h2 className=\"field\">Date:</h2>\n                                    <h3 className=\"content\">{new Date(1000 * this.state.report.timestamp).toUTCString()}</h3>\n                                </div>\n                            </div>\n                            <div className=\"infoBlock\">\n                                <div className=\"infoBlock\">\n                                    <h2 className=\"field\">Confidence Level:</h2>\n                                    <h3 className=\"content\">{this.state.report.probability ? this.state.report.probability : 90}%</h3>\n                                </div>\n                                <div className=\"infoBlock\">\n                                    <h2 className=\"field\">Analysis:</h2>\n                                    <h3 className=\"content\">{this.state.report.analysis_complete ? \"Completed\" : \"In Progress\"}</h3>\n                                </div>\n                            </div>\n\n                        </div>\n                    </Card>\n\n                    <Card id=\"mapCard\" className=\"text-center card\">\n                        <Card.Header className=\"cardHeader\">Report Locations</Card.Header>\n                        <ViolationMap selection={this.state.report} className=\"mapCard\" center={this.state.report.location} />\n                    </Card>\n                </div>\n                <div className=\"cardRow\" id=\"bottomRow\">\n                    <Card id=\"vehicleCard\" className=\"text-center card\">\n                        <Card.Header className=\"cardHeader\">Evidence Set</Card.Header>\n                        <div className=\"fullscreen imageGalleryContainer\">\n                            <Gallery\n                                images={images}\n                                className=\"imageGallery\"\n                                lightboxWidth={1500}\n                                onSelectImage={_ => true}\n                                onClick={_ => true}\n                                onTouchEnd={_ => true}\n                                enableImageSelection={false}\n                            />\n                        </div>\n                    </Card>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ReportView;"]},"metadata":{},"sourceType":"module"}